<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CS2SKINS</title>
    <!-- Favicon set to the uploaded image -->
    <link rel="icon" type="image/x-icon" href="CS2SKINS (1).ico">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap" rel="stylesheet">
    <style>
        /* Main body styles */
        body {
            margin: 0;
            font-family: 'Orbitron', sans-serif;
            background-color: #0e0e0e;
            color: #fff;
        }

        /* Header style */
        header {
            background-color: #1a1a1a;
            padding: 20px;
            text-align: center;
            transform: skewY(-3deg);
            position: relative;
            z-index: 100;
        }

        /* H1 header style with skew effect (yellow color) */
        header h1 {
            transform: skewY(3deg);
            font-size: 3em;
            color: #FFD700;
            margin: 0;
        }

        /* Header link style to look like h1 text but be clickable */
        header a {
            text-decoration: none;
            color: inherit;
        }

        /* Main content wrapper (excluding header) */
        .main-content-wrapper {
            margin-top: 60px;
        }

        /* Navigation bar style */
        nav {
            background-color: #111;
            display: flex;
            justify-content: space-around;
            padding: 15px 0;
            flex-wrap: wrap;
            border-bottom: 2px solid #FFD700; /* Yellow line */
        }

        /* Navigation link style */
        nav a {
            color: #ccc;
            text-decoration: none;
            margin: 0 10px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        /* Hover effect for navigation links (yellow color) */
        nav a:hover {
            color: #FFD700;
        }

        /* Profile section style */
        .profile {
            background-color: #1e1e1e;
            padding: 15px;
            text-align: center;
            border-bottom: 2px solid #333;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        /* General style for spans in profile */
        .profile span {
            margin: 0 5px;
        }

        /* Cases container style (now grid display) */
        .cases-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            padding: 20px;
            justify-content: center;
            max-width: 1200px;
            margin: 20px auto;
        }

        /* Single case item style */
        .case-item {
            background-color: #2a2a2a;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #3d3d3d;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .case-item img {
            max-width: 100%;
            height: 150px;
            object-fit: contain;
            margin-bottom: 10px;
            border-radius: 5px;
            background-color: #1a1a1a; /* Background for image */
        }

        .case-item h3 {
            color: #FFD700;
            margin-top: 0;
            margin-bottom: 10px;
        }

        .case-item .price {
            font-size: 1.2em;
            color: #ccc;
            margin-bottom: 15px;
        }

        .case-item button {
            background-color: #FFD700;
            color: #1a1a1a;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .case-item button:hover {
            background-color: #e6c200;
            color: #000;
        }

        /* Hidden section style (e.g., inventory, FAQ) */
        section[id] {
            display: none; /* Hidden by default, JS controls visibility */
            padding: 20px;
            text-align: center;
            background-color: #1e1e1e;
            margin-top: 20px;
            border-radius: 10px;
            border: 1px solid #333;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Override to make the default section visible on start */
        #cases { /* Set default section to 'cases' */
            display: block;
        }

        section h2 {
            color: #FFD700; /* Changed to yellow */
        }

        /* Footer style */
        footer {
            text-align: center;
            padding: 20px;
            background-color: #111;
            margin-top: 40px;
            font-size: 0.9em;
            color: #777;
        }

        /* Style for insufficient funds message */
        .message-box {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #333;
            color: #fff;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #FFD700; /* Yellow line */
            z-index: 2000;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            text-align: center;
        }

        .message-box button {
            background-color: #FFD700; /* Changed to yellow */
            border: none;
            padding: 8px 15px;
            color: white;
            font-weight: bold;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }

        /* Styles for the modal (popup) */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1000; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0,0,0,0.8); /* Black w/ opacity */
            display: flex;
            align-items: center;
            justify-content: center;
            --animation-duration: 5s; /* CSS variable for animation time */
        }

        .modal-content {
            background-color: #1e1e1e;
            padding: 20px;
            border: 1px solid #333;
            width: 90%;
            max-width: 700px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            border-radius: 10px;
            text-align: center;
            position: relative;
            overflow: hidden; /* Hide overflow of skin strip */
        }

        .modal-content h2 {
            color: #FFD700;
        }

        .skin-strip {
            display: flex;
            white-space: nowrap;
            padding: 10px 0;
            border: 1px solid #FFD700;
            border-radius: 5px;
            overflow: hidden; /* Hide what goes beyond the strip */
            position: relative; /* For transform to work correctly */
            transition: transform var(--animation-duration) cubic-bezier(0.25, 0.1, 0.25, 1) forwards;
            will-change: transform; /* Animation optimization */
        }

        .skin {
            flex: 0 0 auto; /* Don't allow skins to shrink or stretch */
            min-width: 150px; /* Minimum width of each skin */
            height: 80px;
            background-color: #2a2a2a;
            border: 1px solid #444;
            margin: 0 10px; /* Spacing between skins */
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 5px;
            font-size: 0.9em;
            text-align: center;
            color: #eee;
            box-sizing: border-box; /* Include padding and border in width */
        }

        .close-button {
            background-color: #FFD700;
            border: none;
            padding: 10px 20px;
            color: #1a1a1a;
            font-weight: bold;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
            transition: background-color 0.3s ease;
        }

        .close-button:hover {
            background-color: #e6c200;
        }

        /* Shop section styles */
        .shop-items {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }

        .shop-item {
            background-color: #2a2a2a;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #3d3d3d;
            text-align: center;
            width: 200px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .shop-item h3 {
            color: #FFD700; /* Changed to yellow */
            margin-top: 0;
        }

        .shop-item .price-tag {
            font-size: 1.1em;
            color: #ccc;
            margin-bottom: 15px;
        }

        .shop-item button {
            background-color: #28a745; /* Green color for buy button */
            color: #fff;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s ease;
            margin-top: auto; /* Pin button to bottom */
        }

        .shop-item button:hover {
            background-color: #218838;
        }

        /* FAQ list styles */
        .faq-list {
            list-style: none;
            padding: 0;
            max-width: 700px;
            margin: 20px auto;
            text-align: left;
        }

        .faq-list li {
            background-color: #222;
            margin-bottom: 10px;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #333;
        }

        /* FAQ heading style (color changed to yellow) */
        .faq-list h3 {
            color: #FFD700; /* Changed to yellow */
            margin-top: 0;
            margin-bottom: 5px;
            cursor: pointer; /* Indicates heading is clickable */
        }

        .faq-list p {
            display: none; /* Hides FAQ answers by default */
            margin-top: 10px;
            color: #ccc;
        }

        .faq-list li.active p {
            display: block; /* Shows answer when active */
        }

        /* Style for text in Top Wins (color changed to yellow) */
        #top-wins span {
            color: #FFD700 !important; /* Use !important to override other styles if necessary */
        }

        /* Style for links in support (color changed to yellow) */
        #support a {
            color: #FFD700 !important; /* Changed to yellow */
        }
        #support span {
            color: #FFD700 !important; /* Changed to yellow */
        }

        /* Inventory item styling */
        .inventory-item {
            background-color: #2a2a2a;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #3d3d3d;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 15px;
            justify-content: space-between; /* Distribute items and button */
        }

        .inventory-item img {
            width: 80px;
            height: 60px;
            object-fit: contain;
            background-color: #1a1a1a;
            border-radius: 5px;
        }

        .inventory-item span {
            flex-grow: 1; /* Allow skin name to take available space */
            text-align: left;
            color: #eee;
        }

        .inventory-item .buttons-container {
            display: flex;
            gap: 10px; /* Space between buttons */
        }

        .inventory-item button {
            padding: 8px 12px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s ease;
        }

        .inventory-item button.sell-button {
            background-color: #dc3545; /* Red for sell button */
            color: #fff;
        }

        .inventory-item button.sell-button:hover {
            background-color: #c82333;
        }

        .inventory-item button.withdraw-button {
            background-color: #007bff; /* Blue for withdraw button */
            color: #fff;
        }

        .inventory-item button.withdraw-button:hover {
            background-color: #0056b3;
        }

        /* Styles for the withdraw modal */
        #withdrawModal .modal-content {
            padding: 30px;
        }

        #withdrawModal input[type="url"] {
            width: calc(100% - 40px); /* Full width minus padding */
            padding: 10px 15px;
            margin: 15px 0;
            border: 1px solid #FFD700;
            border-radius: 5px;
            background-color: #333;
            color: #fff;
            font-size: 1em;
        }

        #withdrawModal input[type="url"]:focus {
            outline: none;
            box-shadow: 0 0 0 2px rgba(255, 215, 0, 0.5);
        }

        #withdrawModal .modal-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }

        #withdrawModal .modal-buttons button {
            padding: 10px 25px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s ease;
        }

        #withdrawModal .modal-buttons button.confirm-withdraw {
            background-color: #28a745; /* Green */
            color: #fff;
        }

        #withdrawModal .modal-buttons button.confirm-withdraw:hover {
            background-color: #218838;
        }

        #withdrawModal .modal-buttons button.cancel-withdraw {
            background-color: #6c757d; /* Grey */
            color: #fff;
        }

        #withdrawModal .modal-buttons button.cancel-withdraw:hover {
            background-color: #5a6268;
        }

    </style>
</head>
<body>

<header>
    <!-- Logo/Name as a link to the home page -->
    <a href="#" id="home-link" style="text-decoration: none; color: inherit;">
        <h1>CS2SKINS</h1>
    </a>
</header>

<!-- Main content wrapper (excluding header) -->
<div class="main-content-wrapper">
    <nav id="main-nav">
        <a data-section="cases">Skrzynki</a>
        <a data-section="top-wins">Top wygrane</a>
        <a data-section="inventory">Ekwipunek</a>
        <a data-section="vip">VIP</a>
        <a data-section="shop">Sklep</a>
        <a data-section="faq">FAQ</a>
        <a data-section="support">Support</a>
        <!-- Steam login button (simulation) -->
        <a id="steam-login-link">Zaloguj przez Steam</a>
    </nav>

    <div class="profile">
        <span id="welcome-message">Witaj, Graczu!</span>
        <span id="balance-display">Saldo: 0.00 zł</span>
    </div>

    <section class="container" id="cases">
        <h2>Skrzynki</h2>
        <div class="cases-grid" id="cases-container">
            <!-- Cases will be dynamically generated here -->
        </div>
        <p id="no-cases-message" style="color: #ccc; margin-top: 20px; display: none;">Obecnie nie ma dostępnych skrzynek. Odwiedź nas wkrótce, aby sprawdzić nowe dostawy!</p>
    </section>

    <!-- Custom message instead of alert() -->
    <div id="messageBox" class="message-box" role="alert" aria-live="polite" style="display: none;">
        <p id="messageText"></p>
        <button id="message-box-close-button">OK</button>
    </div>

    <section id="top-wins">
        <h2>Top wygrane</h2>
        <p>Tutaj znajdziesz listę największych wygranych na naszej platformie. Zainspiruj się sukcesami innych i dołącz do grona szczęśliwców!</p>
        <ul style="list-style: none; padding: 0; max-width: 600px; margin: 20px auto;">
            <li style="background-color: #222; margin-bottom: 8px; padding: 10px; border-radius: 5px; border: 1px solid #333;">
                <span style="color: #FFD700; font-weight: bold;">★ GraczPro69:</span> Karambit | Doppler (Factory New) za 9 500 zł (12.06.2025)
            </li>
            <li style="background-color: #222; margin-bottom: 8px; padding: 10px; border-radius: 5px; border: 1px solid #333;">
                <span style="color: #FFD700; font-weight: bold;">★ SnajperPL:</span> AWP | Dragon Lore (Minimal Wear) za 12 000 zł (11.06.2025)
            </li>
            <li style="background-color: #222; margin-bottom: 8px; padding: 10px; border-radius: 5px; border: 1px solid #333;">
                <span style="color: #FFD700; font-weight: bold;">★ SkinHunter:</span> M9 Bayonet | Emerald (Factory New) za 8 000 zł (10.06.2025)
            </li>
            <li style="background-color: #222; margin-bottom: 8px; padding: 10px; border-radius: 5px; border: 1px solid #333;">
                <span style="color: #FFD700; font-weight: bold;">★ LuckyLuke:</span> Butterfly Knife | Fade (Factory New) za 7 200 zł (09.06.2025)
            </li>
            <li style="background-color: #222; margin-bottom: 8px; padding: 10px; border-radius: 5px; border: 1px solid #333;">
                <span style="color: #FFD700; font-weight: bold;">★ HeadshotKing:</span> AK-47 | Fire Serpent (Field-Tested) za 3 800 zł (08.06.2025)
            </li>
            <li style="background-color: #222; margin-bottom: 8px; padding: 10px; border-radius: 5px; border: 1px solid #333;">
                <span style="color: #FFD700; font-weight: bold;">★ CaseOpener:</span> Sport Gloves | Pandora's Box (Minimal Wear) za 10 500 zł (07.06.2025)
            </li>
            <li style="background-color: #222; margin-bottom: 8px; padding: 10px; border-radius: 5px; border: 1px solid #333;">
                <span style="color: #FFD700; font-weight: bold;">★ ProGamer:</span> AWP | Gungnir (Factory New) za 15 000 zł (06.06.2025)
            </li>
        </ul>
        <p style="color: #ccc; margin-top: 20px;">Otwieraj skrzynki i znajdź się na liście najlepszych! Szczęście sprzyja odważnym!</p>
    </section>

    <section id="inventory">
        <h2>Ekwipunek</h2>
        <p>Sprawdź wszystkie skórki, które udało Ci się zdobyć! Możesz je podziwiać w swoim ekwipunku.</p>
        <ul id="inventory-list"></ul>
        <p id="empty-inventory-message" style="display:none; color:#ccc;">Twój ekwipunek jest pusty. Otwórz skrzynki, aby go zapełnić!</p>
    </section>

    <section id="vip">
        <h2>VIP</h2>
        <p>Zostań członkiem VIP i odblokuj ekskluzywne korzyści, które zwiększą Twoje szanse na wygraną i komfort gry! To najlepszy sposób, aby w pełni wykorzystać potencjał naszej platformy.</p>
        <p style="font-size: 1.1em; color: #FFD700; font-weight: bold; margin-top: 20px;">Korzyści członkostwa VIP:</p>
        <ul style="list-style: none; padding: 0; max-width: 500px; margin: 15px auto; text-align: left;">
            <li style="background-color: #222; margin-bottom: 8px; padding: 10px; border-radius: 5px; border: 1px solid #333;">
                <span style="color: #28a745; font-weight: bold;">✓</span> **10% bonus do wszystkich wpłat środków:** Każde doładowanie konta zostanie powiększone o dodatkowe 10%.
            </li>
            <li style="background-color: #222; margin-bottom: 8px; padding: 10px; border-radius: 5px; border: 1px solid #333;">
                <span style="color: #28a745; font-weight: bold;">✓</span> **Codzienna darmowa skrzynka VIP:** Otrzymuj codziennie darmową, ekskluzywną skrzynkę VIP o wysokiej wartości (50 zł!), pełną rzadkich skórek.
            </li>
            <li style="background-color: #222; margin-bottom: 8px; padding: 10px; border-radius: 5px; border: 1px solid #333;">
                <span style="color: #28a745; font-weight: bold;">✓</span> **Priorytetowe wsparcie klienta 24/7:** Twoje zapytania są obsługiwane w pierwszej kolejności, zapewniając szybką i efektywną pomoc.
            </li>
            <li style="background-color: #222; margin-bottom: 8px; padding: 10px; border-radius: 5px; border: 1px solid #333;">
                <span style="color: #28a745; font-weight: bold;">✓</span> **Ekskluzywne emblematy i odznaki w profilu:** Wyróżnij się w społeczności dzięki unikalnym odznakom VIP widocznym na Twoim profilu.
            </li>
            <li style="background-color: #222; padding: 10px; border-radius: 5px; border: 1px solid #333;">
                <span style="color: #28a745; font-weight: bold;">✓</span> **Dostęp do specjalnych losowań i konkursów VIP:** Bierz udział w wydarzeniach dostępnych tylko dla członków VIP z jeszcze bardziej wartościowymi nagrodami.
            </li>
        </ul>
        <p style="color: #ccc; margin-top: 20px;">Aby zostać VIP-em, skontaktuj się z naszym supportem! Ceny pakietów VIP zaczynają się od 200 zł/miesiąc.</p>
    </section>

    <section id="shop">
        <h2>Sklep</h2>
        <p>Tutaj znajdziesz specjalne przedmioty i pakiety do ulepszenia swojego doświadczenia!</p>
        <div class="shop-items" id="shop-items-container">
            <!-- Shop items will be dynamically generated here -->
        </div>
        <p style="color: #ccc; margin-top: 20px;">Wszystkie transakcje są bezpieczne i błyskawiczne! Akceptujemy popularne metody płatności.</p>
    </section>

    <section id="faq">
        <h2>FAQ - Najczęściej Zadawane Pytania</h2>
        <ul class="faq-list">
            <li>
                <h3 onclick="toggleFaq(this)">Jak działa otwieranie skrzynek?</h3>
                <p>Otwieranie skrzynek jest prostym i ekscytującym procesem. Wystarczy wybrać interesującą Cię skrzynkę w zakładce "Skrzynki", upewnić się, że masz wystarczające saldo, a następnie kliknąć przycisk "Otwórz". Rozpocznie się animacja losowania, po której zobaczysz, jaką skórkę wygrałeś. Skórki są natychmiastowo dodawane do Twojego ekwipunku.</p>
            </li>
            <li>
                <h3 onclick="toggleFaq(this)">Czy mogę sprzedać wygrane skórki?</h3>
                <p>Obecnie funkcja sprzedaży skórek jest w fazie rozwoju i nie jest jeszcze dostępna. Naszym celem jest wdrożenie pełnego systemu zarządzania ekwipunkiem, który pozwoli Ci na sprzedaż lub wymianę zdobytych przedmiotów na saldo w przyszłości. Będziemy informować o postępach!</p>
            </li>
            <li>
                <h3 onclick="toggleFaq(this)">Jak wpłacić środki na konto?</h3>
                <p>Aby doładować saldo, przejdź do zakładki "Sklep". Znajdziesz tam różne pakiety doładowań. Wybierz ten, który najbardziej Ci odpowiada, kliknij "Kup" i postępuj zgodnie z instrukcjami płatności. Saldo zostanie zaktualizowane niemal natychmiast po pomyślnym zakończeniu transakcji.</p>
            </li>
            <li>
                <h3 onclick="toggleFaq(this)">Czy CS2SKINS jest legalne i bezpieczne?</h3>
                <p>Absolutnie tak! CS2SKINS działa zgodnie z obowiązującymi przepisami prawa. Priorytetem jest dla nas bezpieczeństwo i prywatność naszych użytkowników. Wszystkie transakcje są szyfrowane, a algorytmy losowania skórek są w pełni transparentne i sprawiedliwe, co gwarantuje uczciwość gry. Jesteśmy dumni z naszej reputacji jako zaufanej platformy.</p>
            </li>
            <li>
                <h3 onclick="toggleFaq(this)">Co to jest VIP i jakie daje korzyści?</h3>
                <p>Status VIP to nasz program lojalnościowy dla najbardziej aktywnych użytkowników. Członkostwo VIP odblokowuje szereg ekskluzywnych korzyści, takich jak powiększone bonusy do wpłat, codzienne darmowe skrzynki VIP, priorytetowy dostęp do wsparcia klienta oraz możliwość udziału w specjalnych, zamkniętych losowaniach z unikalnymi nagrodami. Szczegółowe informacje o pakietach VIP znajdziesz w dedykowanej zakładce.</p>
            </li>
            <li>
                <h3 onclick="toggleFaq(this)">Jak mogę sprawdzić swoje statystyki wygranych?</h3>
                <p>Obecnie nie ma dedykowanej sekcji na szczegółowe statystyki wygranych. Pracujemy nad rozbudową funkcji profilu użytkownika, abyś w przyszłości mógł śledzić swoje postępy, największe wygrane i inne ciekawe statystyki.</p>
            </li>
            <li>
                <h3 onclick="toggleFaq(this)">Co jeśli napotkam problem z grą lub kontem?</h3>
                <p>Jeśli masz jakiekolwiek problemy lub pytania, nasz zespół wsparcia jest do Twojej dyspozycji. Możesz skontaktować się z nami poprzez email lub Discord, jak wskazano w zakładce "Support". Staramy się odpowiadać na wszystkie zapytania tak szybko, jak to możliwe.</p>
            </li>
        </ul>
    </section>

    <section id="support">
        <h2>Support - Skontaktuj się z nami</h2>
        <p>Masz pytania, napotkałeś problem, potrzebujesz pomocy z transakcją lub po prostu chcesz podzielić się opinią? Jesteśmy tutaj, aby Ci pomóc! Nasz doświadczony zespół wsparcia jest gotowy, aby odpowiedzieć na każde Twoje pytanie.</p>
        <p style="font-size: 1.1em; margin-top: 20px;">Możesz skontaktować się z nami na kilka sposobów:</p>
        <ul style="list-style: none; padding: 0; max-width: 500px; margin: 15px auto; text-align: left;">
            <li style="background-color: #222; margin-bottom: 8px; padding: 10px; border-radius: 5px; border: 1px solid #333;">
                <strong>Email:</strong> <a href="mailto:support@cs2skins.pl" style="color: #FFD700; text-decoration: none;">support@cs2skins.pl</a> <br> (Staramy się odpowiadać na wszystkie zapytania mailowe w ciągu 24 godzin.)
            </li>
            <li style="background-color: #222; margin-bottom: 8px; padding: 10px; border-radius: 5px; border: 1px solid #333;">
                <strong>Discord:</strong> Dołącz do naszej aktywnej społeczności na <span style="color: #FFD700;">discord.gg/cs2skins</span>. Na naszym serwerze Discord znajdziesz kanały wsparcia, gdzie możesz zadać pytania, zgłosić problemy i uzyskać pomoc od naszego zespołu oraz innych graczy. To również świetne miejsce do nawiązywania nowych znajomości!
            </li>
            <li style="background-color: #222; padding: 10px; border-radius: 5px; border: 1px solid #333;">
                <strong>Formularz kontaktowy:</strong> (W budowie - planujemy wkrótce udostępnić wygodny formularz kontaktowy bezpośrednio na stronie, aby jeszcze bardziej ułatwić komunikację.)
            </li>
        </ul>
        <p style="color: #ccc; margin-top: 20px;">Nasz zespół wsparcia jest dostępny 24/7, aby zapewnić Ci najlepsze doświadczenia z CS2SKINS.</p>
    </section>

    <footer>
        &copy; 2025 CS2SKINS. Wszystkie prawa zastrzeżone.
    </footer>
</div>

<!-- Case opening modal (restored) -->
<div id="caseModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="caseModalTitle" style="display: none;">
    <div class="modal-content">
        <h2 id="caseModalTitle">Otwieranie skrzynki...</h2>
        <div class="skin-strip">
            <!-- Skins will be dynamically generated by JavaScript -->
        </div>
        <p id="won-skin" style="margin-top:20px;" aria-live="polite"></p>
        <button id="close-modal-button" class="close-button">Zamknij</button>
    </div>
</div>

<!-- New modal for withdrawing skins -->
<div id="withdrawModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="withdrawModalTitle" style="display: none;">
    <div class="modal-content">
        <h2 id="withdrawModalTitle">Wypłać Skórkę</h2>
        <p>Wypłacasz skórkę: <strong id="withdrawSkinName"></strong></p>
        <label for="withdrawUrlInput" style="display: block; margin-top: 15px; margin-bottom: 5px; text-align: left; color: #ccc;">Podaj adres URL do wymiany (np. Steam Trade URL):</label>
        <input type="url" id="withdrawUrlInput" placeholder="https://steamcommunity.com/tradeoffer/new/..." required>
        <div class="modal-buttons">
            <button id="confirm-withdraw-button" class="confirm-withdraw">Potwierdź Wypłatę</button>
            <button id="cancel-withdraw-button" class="cancel-withdraw">Anuluj</button>
        </div>
    </div>
</div>


<script>
    // --- Constants and DOM element references ---
    const ANIMATION_DURATION_MS = 5000; // Animation duration in milliseconds
    const NUM_SKINS_IN_STRIP = 50;   // Number of skins in the animation strip
    const SKIN_MIN_CONTENT_WIDTH = 150; // Minimum width of a skin in px (from CSS .skin)
    const SKIN_HORIZONTAL_MARGIN = 10;  // Horizontal margin of a skin in px (from CSS .skin)
    const EFFECTIVE_SKIN_WIDTH = SKIN_MIN_CONTENT_WIDTH + (2 * SKIN_HORIZONTAL_MARGIN); // Total skin width

    // References to frequently used DOM elements
    const balanceDisplay = document.getElementById("balance-display");
    const wonSkinDisplay = document.getElementById("won-skin");
    const caseModal = document.getElementById("caseModal");
    const skinStrip = document.querySelector("#caseModal .skin-strip");
    const inventoryList = document.getElementById("inventory-list");
    const emptyInventoryMessage = document.getElementById("empty-inventory-message");
    const welcomeMessage = document.getElementById("welcome-message");
    const steamLoginLink = document.getElementById("steam-login-link");
    const messageBox = document.getElementById("messageBox");
    const messageText = document.getElementById("messageText");
    const modalContent = document.querySelector('#caseModal .modal-content');
    const navLinks = document.querySelectorAll('#main-nav a[data-section]');
    const closeMessageBoxButton = document.getElementById("message-box-close-button");
    const closeModalButton = document.getElementById("close-modal-button");
    const homeLink = document.getElementById("home-link");
    const faqHeadings = document.querySelectorAll('#faq .faq-list h3');
    const casesContainer = document.getElementById('cases-container');
    const noCasesMessage = document.getElementById('no-cases-message');
    const shopItemsContainer = document.getElementById('shop-items-container');

    // New DOM references for withdraw modal
    const withdrawModal = document.getElementById("withdrawModal");
    const withdrawSkinNameDisplay = document.getElementById("withdrawSkinName");
    const withdrawUrlInput = document.getElementById("withdrawUrlInput");
    const confirmWithdrawButton = document.getElementById("confirm-withdraw-button");
    const cancelWithdrawButton = document.getElementById("cancel-withdraw-button");

    let currentWithdrawIndex = -1; // To store the index of the item being withdrawn

    // Skin data definition for each case
    const skinData = {
        "inferno-pack": {
            name: "Inferno Pack",
            price: 199.99,
            image: "https://placehold.co/150x150/FFD700/000?text=Inferno+Pack",
            skins: [
                'AK-47 | Redline', 'AWP | Asiimov', 'Glock-18 | Fade', 'Karambit | Doppler',
                'M4A4 | Howl', 'Desert Eagle | Blaze', 'Butterfly Knife | Fade', 'AK-47 | Neon Rider',
                'AWP | Gungnir', 'M4A1-S | Printstream', 'Glock-18 | Water Elemental', 'USP-S | Printstream',
                'AWP | Fade', 'Karambit | Gamma Doppler', 'StatTrak™ AK-47 | Case Hardened', 'M4A4 | Poseidon',
                'AK-47 | Fire Serpent', 'AWP | Medusa', 'Karambit | Marble Fade', 'M9 Bayonet | Doppler Sapphire'
            ]
        },
        "death-zone": {
            name: "Death Zone",
            price: 99.99,
            image: "https://placehold.co/150x150/FFD700/000?text=Death+Zone",
            skins: [
                'AWP | Asiimov', 'USP-S | Kill Confirmed', 'M4A4 | Buzz Kill', 'AK-47 | Frontside Misty',
                'Glock-18 | Candy Apple', 'P90 | Asiimov', 'AWP | Hyper Beast', 'Desert Eagle | Kumicho Dragon',
                'M4A1-S | Guardian', 'Five-SeveN | Hyper Beast', 'MP9 | Hypnotic', 'AK-47 | Vulcan',
                'USP-S | Cortex', 'M4A4 | Desolate Space', 'AWP | Fever Dream', 'Glock-18 | Off World'
            ]
        },
        "headshot-heaven": {
            name: "Headshot Heaven",
            price: 49.99,
            image: "https://placehold.co/150x150/FFD700/000?text=Headshot+Heaven",
            skins: [
                'USP-S | Kill Confirmed', 'Glock-18 | Fade', 'AK-47 | Legion of Anubis', 'M4A4 | The Emperor',
                'Desert Eagle | Code Red', 'AWP | Mortis', 'P250 | Asiimov', 'Five-SeveN | Neon Noir',
                'M4A1-S | Cyrex', 'AK-47 | Fuel Injector', 'Desert Eagle | Hypnotic', 'USP-S | Blueprint',
                'AK-47 | Bloodsport', 'M4A4 | Neo-Noir'
            ]
        },
        "eco-rush": {
            name: "Eco Rush",
            price: 14.99,
            image: "https://placehold.co/150x150/FFD700/000?text=Eco+Rush",
            skins: [
                'Glock-18 | Fade', 'USP-S | Guardian', 'P250 | Franklin', 'Tec-9 | Hades',
                'Nova | Hyper Beast', 'MP9 | Ruby', 'UMP-45 | Primal Saber', 'PP-Bizon | Judgement of Anubis',
                'Galil AR | Sugar Rush', 'FAMAS | Valence', 'P2000 | Amber Fade', 'MP5-SD | Nitros'
            ]
        },
        "opulence": {
            name: "Opulence",
            price: 999.99,
            image: "https://placehold.co/150x150/FFD700/000?text=Opulence",
            skins: [
                'Karambit | Doppler', 'AWP | Fade', 'StatTrak™ M9 Bayonet | Gamma Doppler', 'Driver Gloves | Imperial Plaid',
                'Sport Gloves | Pandora\'s Box', 'AWP | Dragon Lore', 'M4A4 | Poseidon', 'Karambit | Lore',
                'Butterfly Knife | Marble Fade', 'Bayonet | Gamma Doppler Emerald', 'Gloves | Fade',
                'AWP | Gungnir', 'Karambit | Gamma Doppler Emerald', 'M9 Bayonet | Lore', 'Butterfly Knife | Lore'
            ]
        }
    };

    // Shop items data
    const shopItemsData = {
        "Elite Key": {
            name: "Klucz do Skrzynki Elite",
            price: 15.00,
            description: "Pozwala otworzyć skrzynki Elite.",
            image: "https://placehold.co/80x80/FFD700/000?text=Key"
        },
        "XP Booster": {
            name: "Wzmacniacz XP (24h)",
            price: 10.00,
            description: "Podwaja zdobywane XP przez 24 godziny.",
            image: "https://placehold.co/80x80/FFD700/000?text=XP"
        },
        "Random Rare Skin": {
            name: "Losowa Rzadka Skórka",
            price: 75.00,
            description: "Gwarantuje rzadką skórkę (nie zależy od skrzynki).",
            image: "https://placehold.co/80x80/FFD700/000?text=Rare+Skin"
        },
        "Starter Pack": {
            name: "Pakiet Startowy",
            price: 50.00,
            description: "Zawiera 3 klucze i 1 booster.",
            image: "https://placehold.co/80x80/FFD700/000?text=Pack"
        }
    };

    // Pool of rare skins for "Random Rare Skin" purchase
    const rareSkinsPool = [
        'AWP | Dragon Lore', 'Karambit | Doppler', 'M4A4 | Howl', 'Butterfly Knife | Fade',
        'AK-47 | Fire Serpent', 'M9 Bayonet | Emerald', 'Sport Gloves | Pandora\'s Box',
        'AWP | Gungnir', 'StatTrak™ AK-47 | Case Hardened', 'Desert Eagle | Blaze'
    ];

    let balance = parseFloat(localStorage.getItem('userBalance')) || 0.00; // Load balance from localStorage
    let inventory = JSON.parse(localStorage.getItem('userInventory')) || []; // Load inventory from localStorage
    let currentUser = localStorage.getItem('currentUser') || null; // Load current user from localStorage
    let welcomeBonusClaimed = localStorage.getItem('welcomeBonusClaimed') === 'true'; // Track welcome bonus

    /**
     * Updates the balance display on the page and saves it to localStorage.
     */
    function updateBalanceDisplay() {
        balanceDisplay.innerText = `Saldo: ${balance.toFixed(2)} zł`;
        localStorage.setItem('userBalance', balance.toFixed(2));
    }

    /**
     * Retrieves case information based on its ID.
     * @param {string} caseId - The ID of the case.
     * @returns {object|null} Object with case data or null if not found.
     */
    function getCaseInfo(caseId) {
        return skinData[caseId] || null;
    }

    /**
     * Generates the skin strip for animation, placing the winning skin at a specific position.
     * Mixed pool of skins to increase realism.
     * @param {string} winningSkin - The name of the skin to be won.
     * @param {Array<string>} skinsPoolForCase - Pool of skins available in this case.
     * @param {Array<string>} allSkinsGlobal - Global pool of all available skins to fill the strip.
     * @returns {number} The index at which the winning skin was placed in the strip.
     */
    function generateSkinStrip(winningSkin, skinsPoolForCase, allSkinsGlobal) {
        skinStrip.innerHTML = ''; // Clear previous skins

        // Index where the winning skin will be placed.
        // Chosen in the second half for animation to scroll.
        const winningSkinIndex = Math.floor(NUM_SKINS_IN_STRIP * 0.7) + Math.floor(Math.random() * (NUM_SKINS_IN_STRIP * 0.2));

        const displaySkins = [];
        for (let i = 0; i < NUM_SKINS_IN_STRIP; i++) {
            if (i === winningSkinIndex) {
                displaySkins.push(winningSkin); // Place the winning skin
            } else {
                let skinToAdd;
                // More likely to pick skins from the current case's pool
                if (Math.random() < 0.6 && skinsPoolForCase.length > 0) {
                    skinToAdd = skinsPoolForCase[Math.floor(Math.random() * skinsPoolForCase.length)];
                } else {
                    // Otherwise, pick a random skin from the entire pool (for variety)
                    skinToAdd = allSkinsGlobal[Math.floor(Math.random() * allSkinsGlobal.length)];
                }
                displaySkins.push(skinToAdd);
            }
        }

        // Shuffle skins BEFORE the winning skin to make the order less predictable
        for (let i = 0; i < winningSkinIndex; i++) {
            const j = Math.floor(Math.random() * (i + 1));
            [displaySkins[i], displaySkins[j]] = [displaySkins[j], displaySkins[i]];
        }

        // Fill the strip with skins
        displaySkins.forEach(skinName => {
            const skinDiv = document.createElement("div");
            skinDiv.className = "skin";
            skinDiv.innerText = skinName;
            skinStrip.appendChild(skinDiv);
        });

        return winningSkinIndex;
    }

    /**
     * Calculates the target animation position and starts it.
     * @param {HTMLElement} skinStripElement - The skin strip element.
     * @param {number} winningSkinIndex - The index of the winning skin in the strip.
     * @param {number} effectiveSkinWidth - The effective width of a single skin (with margins).
     */
    function animateSkinStrip(skinStripElement, winningSkinIndex, effectiveSkinWidth) {
        // Reset transformation before new animation
        skinStripElement.style.transition = 'none'; // Temporarily disable transition
        skinStripElement.style.transform = 'translateX(0)';
        // Force reflow for browser to register transformation reset
        void skinStripElement.offsetWidth;

        const modalContentWidth = modalContent ? modalContent.clientWidth : 700; // Fallback modal width

        // Calculate the target X position of the strip so the winning skin is centered in the modal
        const winningSkinPositionInStrip = winningSkinIndex * effectiveSkinWidth;
        const scrollAmount = winningSkinPositionInStrip - (modalContentWidth / 2) + (effectiveSkinWidth / 2);

        // Ensure scrollAmount is not negative (don't scroll before the beginning)
        const targetX = Math.max(0, scrollAmount);

        // Apply transformation with transition re-enabled
        skinStripElement.style.transition = `transform var(--animation-duration) cubic-bezier(0.25, 0.1, 0.25, 1) forwards`;
        skinStripElement.style.transform = `translateX(-${targetX}px)`;
    }

    /**
     * Function to open a case when a button is clicked.
     * @param {Event} event - The click event object.
     */
    function handleOpenCaseClick(event) {
        const caseId = event.currentTarget.dataset.caseId; // Get case ID from data attribute
        const caseInfo = getCaseInfo(caseId);

        if (!caseInfo) {
            showMessage("Błąd: Nie znaleziono danych dla tej skrzynki.");
            return;
        }

        const price = caseInfo.price;
        const skinsPool = caseInfo.skins;

        if (balance >= price) {
            balance -= price; // Decrease balance
            updateBalanceDisplay(); // Update balance (internally and in localStorage)

            wonSkinDisplay.innerText = ""; // Clear previous win information
            caseModal.style.display = "flex"; // Show modal (using flex for centering)

            // Randomly select winning skin from this case's pool
            const winningSkin = skinsPool[Math.floor(Math.random() * skinsPool.length)];

            // Collect all skins from all pools for a more diverse strip
            const allSkins = Object.values(skinData).flatMap(c => c.skins);

            // Generate skin strip and get winning skin index
            const winningSkinIndex = generateSkinStrip(winningSkin, skinsPool, allSkins);

            // Start animation
            animateSkinStrip(skinStrip, winningSkinIndex, EFFECTIVE_SKIN_WIDTH);

            // Display won skin after animation ends
            setTimeout(() => {
                wonSkinDisplay.innerText = "Gratulacje! Wygrałeś: " + winningSkin;
                inventory.push({ name: winningSkin, initialValue: price }); // Add skin to inventory with its case price
                updateInventory(); // Update inventory display
            }, ANIMATION_DURATION_MS); // Animation duration
        } else {
            showMessage("Za mało środków na koncie! Twoje aktualne saldo to: " + balance.toFixed(2) + " zł.");
        }
    }

    /**
     * Updates the inventory display and saves it to localStorage.
     */
    function updateInventory() {
        inventoryList.innerHTML = ""; // Clear list
        if (inventory.length === 0) {
            emptyInventoryMessage.style.display = "block";
        } else {
            emptyInventoryMessage.style.display = "none";
            // Sort inventory alphabetically by skin name
            const sortedInventory = [...inventory].sort((a, b) => a.name.localeCompare(b.name));
            sortedInventory.forEach((item, index) => {
                const li = document.createElement("li");
                li.className = "inventory-item";
                // Placeholder image for inventory item
                const img = document.createElement("img");
                img.src = `https://placehold.co/80x60/333/eee?text=${encodeURIComponent(item.name.split(' ')[0])}`;
                img.alt = item.name;
                li.appendChild(img);

                const span = document.createElement("span");
                span.innerText = item.name;
                li.appendChild(span);

                const buttonsContainer = document.createElement("div");
                buttonsContainer.className = "buttons-container";

                const sellButton = document.createElement("button");
                sellButton.innerText = "Sprzedaj";
                sellButton.className = "sell-button"; // Add class for styling
                sellButton.dataset.index = index; // Store index for selling
                sellButton.addEventListener('click', handleSellItemClick);
                buttonsContainer.appendChild(sellButton);

                const withdrawButton = document.createElement("button");
                withdrawButton.innerText = "Wypłać";
                withdrawButton.className = "withdraw-button"; // Add class for styling
                withdrawButton.dataset.index = index; // Store index for withdrawing
                withdrawButton.addEventListener('click', handleWithdrawItemClick);
                buttonsContainer.appendChild(withdrawButton);

                li.appendChild(buttonsContainer);
                inventoryList.appendChild(li);
            });
        }
        localStorage.setItem('userInventory', JSON.stringify(inventory));
    }

    /**
     * Handles selling an item from the inventory.
     * @param {Event} event - The click event object.
     */
    function handleSellItemClick(event) {
        const indexToSell = parseInt(event.currentTarget.dataset.index);
        if (indexToSell >= 0 && indexToSell < inventory.length) {
            const soldItem = inventory.splice(indexToSell, 1)[0]; // Remove item from inventory
            // Calculate sell price (10-50% of initial value, or default if not available)
            const baseValue = soldItem.initialValue || 20.00; // Default value if initialValue is not set
            const sellPrice = baseValue * (0.1 + Math.random() * 0.4); // 10% to 50%
            balance += sellPrice;
            updateBalanceDisplay();
            updateInventory();
            showMessage(`Sprzedano ${soldItem.name} za ${sellPrice.toFixed(2)} zł.`);
        }
    }

    /**
     * Handles clicking the "Wypłać" (Withdraw) button.
     * Opens the withdraw modal and populates it with skin info.
     * @param {Event} event - The click event object.
     */
    function handleWithdrawItemClick(event) {
        currentWithdrawIndex = parseInt(event.currentTarget.dataset.index);
        if (currentWithdrawIndex >= 0 && currentWithdrawIndex < inventory.length) {
            const skinToWithdraw = inventory[currentWithdrawIndex];
            withdrawSkinNameDisplay.innerText = skinToWithdraw.name;
            withdrawUrlInput.value = ''; // Clear previous URL
            withdrawModal.style.display = "flex"; // Show the withdraw modal
        }
    }

    /**
     * Confirms the withdrawal, redirects to the URL, and removes the item.
     */
    function confirmWithdraw() {
        const url = withdrawUrlInput.value.trim();
        if (!url) {
            showMessage("Proszę podać prawidłowy adres URL do wymiany.");
            return;
        }

        if (currentWithdrawIndex >= 0 && currentWithdrawIndex < inventory.length) {
            const withdrawnSkin = inventory.splice(currentWithdrawIndex, 1)[0]; // Remove item
            updateInventory(); // Update inventory display

            // Open the URL in a new tab
            window.open(url, '_blank');

            showMessage(`Skórka "${withdrawnSkin.name}" została wypłacona! Zostaniesz przekierowany do adresu URL.`);
            withdrawModal.style.display = "none"; // Hide the modal
            currentWithdrawIndex = -1; // Reset index
        } else {
            showMessage("Błąd: Nie można wypłacić skórki. Spróbuj ponownie.");
            withdrawModal.style.display = "none";
        }
    }

    /**
     * Cancels the withdrawal process and hides the modal.
     */
    function cancelWithdraw() {
        withdrawModal.style.display = "none";
        currentWithdrawIndex = -1; // Reset index
    }

    /**
     * Function to close the case opening modal.
     */
    function closeModal() {
        caseModal.style.display = "none";
    }

    /**
     * Function to display a specific page section based on navigation click.
     * @param {string} id - The ID of the section to display.
     */
    function showSection(id) {
        const sections = ["cases", "top-wins", "inventory", "vip", "shop", "faq", "support"];
        sections.forEach(sec => {
            document.getElementById(sec).style.display = sec === id ? "block" : "none";
        });
        if (id === 'inventory') {
            updateInventory(); // Ensure inventory is up-to-date
        }
    }

    /**
     * Function to display a custom message (instead of alert()).
     * @param {string} message - The message content.
     */
    function showMessage(message) {
        messageText.innerText = message;
        messageBox.style.display = "block";
    }

    /**
     * Function to hide the custom message.
     */
    function hideMessageBox() {
        messageBox.style.display = "none";
    }

    // --- Functions simulating Steam login and profile ---
    /**
     * Simulates the Steam login process.
     */
    function loginViaSteam() {
        if (currentUser) {
            // If already logged in, treat as logout
            logout();
            return;
        }

        const userName = prompt("Podaj swoją nazwę użytkownika Steam (symulacja logowania):");
        if (userName) {
            currentUser = userName;
            localStorage.setItem('currentUser', currentUser);
            welcomeMessage.innerText = `Witaj, ${currentUser}!`;
            steamLoginLink.innerText = "Wyloguj";

            if (!welcomeBonusClaimed) {
                balance += 100.00; // Welcome bonus
                updateBalanceDisplay();
                showMessage("Witaj! Otrzymujesz bonus powitalny: 100.00 zł!");
                welcomeBonusClaimed = true;
                localStorage.setItem('welcomeBonusClaimed', 'true');
            }
        }
    }

    /**
     * Logs out the user.
     */
    function logout() {
        currentUser = null;
        localStorage.removeItem('currentUser');
        localStorage.removeItem('userBalance'); // Clear balance on logout
        localStorage.removeItem('userInventory'); // Clear inventory on logout
        localStorage.removeItem('welcomeBonusClaimed'); // Reset bonus on logout
        balance = 0.00; // Reset balance
        inventory = []; // Clear inventory
        welcomeBonusClaimed = false; // Reset bonus flag

        welcomeMessage.innerText = "Witaj, Graczu!";
        steamLoginLink.innerText = "Zaloguj przez Steam";
        updateBalanceDisplay();
        updateInventory();
        showMessage("Zostałeś wylogowany.");
    }

    /**
     * Handles purchasing items from the shop.
     * @param {Event} event - The click event object.
     */
    function handleShopBuyClick(event) {
        const itemKey = event.currentTarget.dataset.item;
        const itemInfo = shopItemsData[itemKey];

        if (!itemInfo) {
            showMessage("Błąd: Nieznany przedmiot w sklepie.");
            return;
        }

        const purchaseCost = itemInfo.price;

        if (balance >= purchaseCost) {
            balance -= purchaseCost;
            updateBalanceDisplay();

            let message = `Zakupiono ${itemInfo.name}! Koszt: ${purchaseCost.toFixed(2)} zł.`;

            // Add logic for specific item purchases
            if (itemKey === "Random Rare Skin") {
                const randomRareSkin = rareSkinsPool[Math.floor(Math.random() * rareSkinsPool.length)];
                inventory.push({ name: randomRareSkin, initialValue: purchaseCost }); // Add to inventory
                updateInventory();
                message += ` Wylosowano: ${randomRareSkin}!`;
            } else if (itemKey === "Starter Pack") {
                // Example: Add 3 Elite Keys and 1 XP Booster
                inventory.push({ name: "Klucz do Skrzynki Elite", initialValue: 15.00 });
                inventory.push({ name: "Klucz do Skrzynki Elite", initialValue: 15.00 });
                inventory.push({ name: "Klucz do Skrzynki Elite", initialValue: 15.00 });
                inventory.push({ name: "Wzmacniacz XP (24h)", initialValue: 10.00 });
                updateInventory();
                message += ` Otrzymano 3 Klucze do Skrzynki Elite i 1 Wzmacniacz XP!`;
            }
            // You can add more logic for other items here (e.g., adding keys to a key count)

            showMessage(message);
        } else {
            showMessage(`Za mało środków na koncie, aby kupić ${itemInfo.name}! Twoje aktualne saldo to: ${balance.toFixed(2)} zł.`);
        }
    }

    /**
     * Toggles the visibility of the answer in the FAQ section.
     * @param {HTMLElement} element - The FAQ heading that was clicked.
     */
    function toggleFaq(element) {
        const parentLi = element.closest('li');
        if (parentLi) {
            parentLi.classList.toggle('active');
        }
    }

    /**
     * Dynamically generates case items in the 'cases' section.
     */
    function generateCases() {
        casesContainer.innerHTML = ''; // Clear existing cases
        if (Object.keys(skinData).length === 0) {
            noCasesMessage.style.display = 'block';
            return;
        }
        noCasesMessage.style.display = 'none';

        for (const caseId in skinData) {
            const caseInfo = skinData[caseId];
            const caseItemDiv = document.createElement('div');
            caseItemDiv.className = 'case-item';
            caseItemDiv.innerHTML = `
                <img src="${caseInfo.image}" alt="${caseInfo.name}">
                <h3>${caseInfo.name}</h3>
                <p class="price">Cena: ${caseInfo.price.toFixed(2)} zł</p>
                <button data-case-id="${caseId}">Otwórz</button>
            `;
            casesContainer.appendChild(caseItemDiv);
        }

        // Add event listeners to newly created case buttons
        document.querySelectorAll('.case-item button[data-case-id]').forEach(button => {
            button.addEventListener('click', handleOpenCaseClick);
        });
    }

    /**
     * Dynamically generates shop items in the 'shop' section.
     */
    function generateShopItems() {
        shopItemsContainer.innerHTML = ''; // Clear existing items
        for (const itemKey in shopItemsData) {
            const itemInfo = shopItemsData[itemKey];
            const shopItemDiv = document.createElement('div');
            shopItemDiv.className = 'shop-item';
            shopItemDiv.innerHTML = `
                <img src="${itemInfo.image}" alt="${itemInfo.name}" style="margin-bottom: 10px;">
                <h3>${itemInfo.name}</h3>
                <p class="price-tag">Cena: ${itemInfo.price.toFixed(2)} zł</p>
                <p style="font-size:0.9em; color:#888;">${itemInfo.description}</p>
                <button data-item="${itemKey}">Kup ${itemInfo.name.split(' ')[0]}</button>
            `;
            shopItemsContainer.appendChild(shopItemDiv);
        }

        // Add event listeners to newly created shop buttons
        document.querySelectorAll('#shop-items-container button[data-item]').forEach(button => {
            button.addEventListener('click', handleShopBuyClick);
        });
    }


    // --- Initialization and event listeners ---
    document.addEventListener('DOMContentLoaded', () => {
        // Initialize balance and inventory display on load
        updateBalanceDisplay();
        updateInventory();
        generateCases(); // Generate cases dynamically
        generateShopItems(); // Generate shop items dynamically

        // Check for existing login on page load
        if (currentUser) {
            welcomeMessage.innerText = `Witaj, ${currentUser}!`;
            steamLoginLink.innerText = "Wyloguj";
        } else {
            welcomeMessage.innerText = "Witaj, Graczu!";
            steamLoginLink.innerText = "Zaloguj przez Steam";
        }

        showSection('cases'); // Show cases section by default

        // Add event listeners to navigation links
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault(); // Prevent default link behavior
                showSection(e.target.dataset.section);
            });
        });

        // Event listeners for modal and message box buttons
        closeMessageBoxButton.addEventListener('click', hideMessageBox);
        closeModalButton.addEventListener('click', closeModal);
        steamLoginLink.addEventListener('click', loginViaSteam);

        // Event listener for home link (header logo)
        homeLink.addEventListener('click', (e) => {
            e.preventDefault(); // Prevent default link behavior
            showSection('cases'); // Changed default section after logo click
        });

        // Add event listeners to FAQ headings
        faqHeadings.forEach(heading => {
            heading.addEventListener('click', () => toggleFaq(heading));
        });

        // Add event listeners for the new withdraw modal buttons
        confirmWithdrawButton.addEventListener('click', confirmWithdraw);
        cancelWithdrawButton.addEventListener('click', cancelWithdraw);
    });

</script>

</body>
</html>
